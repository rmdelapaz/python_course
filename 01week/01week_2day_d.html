<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hands-on Practice with Local Repositories</title>
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="icon" href="/favicon.png">
</head>
<body>
    <header>
        <h1>Hands-on Practice with Local Repositories</h1>
        <h2>Python Full Stack Web Developer Course - Week 1: Tuesday</h2>
    </header>

    <main>
        <section class="introduction">
            <h3>Mastering Local Git Repositories</h3>
            <p>Now that we understand the fundamental concepts of version control and basic Git commands, it's time to get our hands dirty with practical exercises. Working with local repositories is like learning to drive in an empty parking lot before venturing onto busy streets—it allows you to develop essential skills in a controlled environment before collaborating with others.</p>
            
            <p>In this session, we'll focus on hands-on practice with local Git repositories. Through a series of guided exercises, you'll gain experience with repository creation, file tracking, staging and committing changes, viewing history, and navigating your project's timeline. By the end of this session, you'll be comfortable with the core Git workflow and ready to apply these skills to your own projects.</p>
            
            <p>Remember, mastery comes through repetition and practice. Don't worry if you make mistakes—that's part of the learning process. Git is designed to track your changes, not judge them, and almost any mistake can be undone.</p>
        </section>

        <section class="prerequisites">
            <h3>Prerequisites for This Session</h3>
            
            <h4>Required Software</h4>
            <ul>
                <li><strong>Git:</strong> Make sure Git is installed on your system. You can verify by opening a terminal or command prompt and typing:</li>
            </ul>
            
            <div class="code-example">
                <code>$ git --version</code>
                <p>Should display something like: git version 2.39.1</p>
            </div>
            
            <p>If Git is not installed or you need to update it:</p>
            <ul>
                <li><strong>Windows:</strong> Download and install from <a href="https://git-scm.com/download/win" target="_blank">git-scm.com</a></li>
                <li><strong>macOS:</strong> Install via Homebrew with <code>brew install git</code> or download from <a href="https://git-scm.com/download/mac" target="_blank">git-scm.com</a></li>
                <li><strong>Linux:</strong> Use your distribution's package manager (e.g., <code>sudo apt install git</code> for Debian/Ubuntu)</li>
            </ul>
            
            <h4>Configuration Setup</h4>
            <p>Before we begin the exercises, let's ensure your Git environment is properly configured:</p>
            
            <div class="code-example">
                <code>$ git config --global user.name "Your Name"</code>
                <code>$ git config --global user.email "your.email@example.com"</code>
            </div>
            
            <p>These settings identify you as the author of your commits. If you're concerned about privacy, you can use a GitHub-provided no-reply email address for public repositories.</p>
            
            <div class="code-example">
                <code>$ git config --global init.defaultBranch main</code>
                <p>Sets the default branch name to "main" for new repositories</p>
            </div>
            
            <h4>Optional but Recommended</h4>
            <ul>
                <li><strong>Configure your text editor:</strong> Set your preferred editor for Git commit messages</li>
            </ul>
            
            <div class="code-example">
                <code>$ git config --global core.editor "code --wait"</code>
                <p>For Visual Studio Code (replace with your preferred editor command)</p>
            </div>
        </section>

        <section class="exercise-one">
            <h3>Exercise 1: Creating and Initializing a Local Repository</h3>
            
            <p>In this exercise, we'll create a simple Python project and initialize it as a Git repository.</p>
            
            <h4>Goals</h4>
            <ul>
                <li>Create a new directory for your project</li>
                <li>Initialize a Git repository</li>
                <li>Add initial project files</li>
                <li>Create your first commit</li>
            </ul>
            
            <h4>Step-by-Step Instructions</h4>
            
            <ol>
                <li><strong>Create a new project directory:</strong>
                    <div class="code-example">
                        <code>$ mkdir python_todo_app</code>
                        <code>$ cd python_todo_app</code>
                    </div>
                </li>
                
                <li><strong>Initialize a Git repository:</strong>
                    <div class="code-example">
                        <code>$ git init</code>
                        <p>You should see: Initialized empty Git repository in [path]/python_todo_app/.git/</p>
                    </div>
                    <p>This creates a hidden .git directory that will store all version history and metadata for your project. Think of it as planting the seed for your project's timeline.</p>
                </li>
                
                <li><strong>Verify repository creation:</strong>
                    <div class="code-example">
                        <code>$ ls -la</code>
                        <p>This should list all files, including the hidden .git directory</p>
                    </div>
                </li>
                
                <li><strong>Create a README file:</strong>
                    <div class="code-example">
                        <code>$ echo "# Python Todo Application\n\nA simple command-line todo application written in Python." > README.md</code>
                    </div>
                    <p>Every good project starts with documentation. This creates a basic README file with a brief description.</p>
                </li>
                
                <li><strong>Create a .gitignore file:</strong>
                    <div class="code-example">
                        <code>$ echo "__pycache__/\n*.py[cod]\n*$py.class\n.env\nvenv/\n.idea/\n.vscode/" > .gitignore</code>
                    </div>
                    <p>This tells Git which files to ignore. For Python projects, we typically ignore bytecode files, virtual environments, and IDE-specific files.</p>
                </li>
                
                <li><strong>Create the main Python file:</strong>
                    <div class="code-example">
                        <code>$ touch todo.py</code>
                    </div>
                    <p>Now open this file in your text editor and add the following code:</p>
                    <div class="code-example">
                        <code>
#!/usr/bin/env python3
"""
Simple Todo Application

This application allows users to add, view, and complete todo items
from the command line.
"""

def main():
    todos = []
    print("Welcome to the Todo App!")
    print("Enter 'help' to see available commands.")
    
    while True:
        command = input("\nEnter command: ").strip().lower()
        
        if command == 'quit' or command == 'exit':
            print("Goodbye!")
            break
        elif command == 'help':
            print_help()
        elif command == 'list':
            list_todos(todos)
        elif command.startswith('add '):
            add_todo(command[4:], todos)
        elif command.startswith('complete '):
            try:
                index = int(command[9:]) - 1
                complete_todo(index, todos)
            except ValueError:
                print("Please provide a valid number.")
        else:
            print("Unknown command. Enter 'help' to see available commands.")

def print_help():
    """Display available commands."""
    print("\nAvailable commands:")
    print("  list           - Show all todo items")
    print("  add [text]     - Add a new todo item")
    print("  complete [num] - Mark an item as completed")
    print("  help           - Show this help message")
    print("  quit           - Exit the application")

def list_todos(todos):
    """Display all todo items with their status."""
    if not todos:
        print("No todos yet! Add some using 'add [text]'")
        return
    
    print("\nTodo List:")
    for i, todo in enumerate(todos, 1):
        status = "✓" if todo["completed"] else " "
        print(f"{i}. [{status}] {todo['text']}")

def add_todo(text, todos):
    """Add a new todo item."""
    if not text:
        print("Cannot add an empty todo. Try 'add [text]'")
        return
    
    todos.append({"text": text, "completed": False})
    print(f"Added: {text}")

def complete_todo(index, todos):
    """Mark a todo item as completed."""
    if index < 0 or index >= len(todos):
        print(f"No todo with number {index + 1}")
        return
    
    todos[index]["completed"] = True
    print(f"Completed: {todos[index]['text']}")

if __name__ == "__main__":
    main()
                        </code>
                    </div>
                </li>
                
                <li><strong>Check status to see untracked files:</strong>
                    <div class="code-example">
                        <code>$ git status</code>
                    </div>
                    <p>This shows the current state of your working directory. You should see that README.md, .gitignore, and todo.py are listed as untracked files.</p>
                </li>
                
                <li><strong>Stage files for commit:</strong>
                    <div class="code-example">
                        <code>$ git add README.md .gitignore todo.py</code>
                    </div>
                    <p>This adds the files to the staging area, preparing them for commit.</p>
                </li>
                
                <li><strong>Verify staged files:</strong>
                    <div class="code-example">
                        <code>$ git status</code>
                    </div>
                    <p>Now you should see the files listed under "Changes to be committed".</p>
                </li>
                
                <li><strong>Create your first commit:</strong>
                    <div class="code-example">
                        <code>$ git commit -m "Initial commit: Basic Todo application structure"</code>
                    </div>
                    <p>This creates a snapshot of your project at this point in time with a descriptive message.</p>
                </li>
                
                <li><strong>Verify your commit:</strong>
                    <div class="code-example">
                        <code>$ git log</code>
                    </div>
                    <p>This shows your commit history. You should see your initial commit with the message you provided.</p>
                </li>
            </ol>
            
            <h4>Understanding What Happened</h4>
            <p>In this exercise, you've gone through the complete basic Git workflow:</p>
            <ol>
                <li>You created a new directory and initialized it as a Git repository</li>
                <li>You added project files (README.md, .gitignore, and todo.py)</li>
                <li>You staged these files using git add</li>
                <li>You committed the staged files with a descriptive message</li>
                <li>You verified your commit using git log</li>
            </ol>
            
            <p>Congratulations! You've created your first Git repository and made your first commit. This is the foundation of Git's version control system.</p>
        </section>

        <section class="exercise-two">
            <h3>Exercise 2: Making Changes and Viewing Differences</h3>
            
            <p>Now that we have a repository with an initial commit, let's practice making changes, viewing differences, and creating additional commits.</p>
            
            <h4>Goals</h4>
            <ul>
                <li>Make changes to existing files</li>
                <li>View differences between working directory and repository</li>
                <li>Stage and commit changes</li>
                <li>Explore commit history</li>
            </ul>
            
            <h4>Step-by-Step Instructions</h4>
            
            <ol>
                <li><strong>Enhance the Todo application:</strong>
                    <p>Open todo.py in your text editor and add a new function to save todos to a file:</p>
                    <div class="code-example">
                        <code>
import json
import os

def save_todos(todos):
    """Save todos to a file."""
    with open("todos.json", "w") as f:
        json.dump(todos, f)
    print("Todos saved to file.")

def load_todos():
    """Load todos from a file if it exists."""
    if os.path.exists("todos.json"):
        with open("todos.json", "r") as f:
            return json.load(f)
    return []
                        </code>
                    </div>
                    <p>Now modify the main() function to use these new functions:</p>
                    <div class="code-example">
                        <code>
def main():
    todos = load_todos()
    print("Welcome to the Todo App!")
    print("Enter 'help' to see available commands.")
    
    while True:
        command = input("\nEnter command: ").strip().lower()
        
        if command == 'quit' or command == 'exit':
            save_todos(todos)
            print("Goodbye!")
            break
        elif command == 'help':
            print_help()
        elif command == 'list':
            list_todos(todos)
        elif command.startswith('add '):
            add_todo(command[4:], todos)
        elif command.startswith('complete '):
            try:
                index = int(command[9:]) - 1
                complete_todo(index, todos)
            except ValueError:
                print("Please provide a valid number.")
        elif command == 'save':
            save_todos(todos)
        else:
            print("Unknown command. Enter 'help' to see available commands.")
                        </code>
                    </div>
                    <p>Also update the print_help() function to include the new 'save' command:</p>
                    <div class="code-example">
                        <code>
def print_help():
    """Display available commands."""
    print("\nAvailable commands:")
    print("  list           - Show all todo items")
    print("  add [text]     - Add a new todo item")
    print("  complete [num] - Mark an item as completed")
    print("  save           - Save todos to file")
    print("  help           - Show this help message")
    print("  quit           - Exit the application (auto-saves)")
                        </code>
                    </div>
                </li>
                
                <li><strong>View changes with git diff:</strong>
                    <div class="code-example">
                        <code>$ git diff</code>
                    </div>
                    <p>This shows the differences between your working directory and the last commit. Lines prefixed with + are additions, and lines with - are removals.</p>
                </li>
                
                <li><strong>Stage the changes:</strong>
                    <div class="code-example">
                        <code>$ git add todo.py</code>
                    </div>
                </li>
                
                <li><strong>View staged changes:</strong>
                    <div class="code-example">
                        <code>$ git diff --staged</code>
                    </div>
                    <p>This shows changes that are staged for commit. It's a good practice to review these before committing.</p>
                </li>
                
                <li><strong>Commit the changes:</strong>
                    <div class="code-example">
                        <code>$ git commit -m "Add file persistence to save and load todos"</code>
                    </div>
                </li>
                
                <li><strong>Update the README file:</strong>
                    <p>Open README.md and enhance the documentation:</p>
                    <div class="code-example">
                        <code>
# Python Todo Application

A simple command-line todo application written in Python.

## Features

- Add and list todo items
- Mark items as completed
- Persistent storage with JSON
- Simple command-line interface

## Usage

Run the application with:

```
python todo.py
```

## Commands

- `list` - Show all todo items
- `add [text]` - Add a new todo item
- `complete [num]` - Mark an item as completed
- `save` - Save todos to file
- `help` - Show help message
- `quit` - Exit application (auto-saves)
                        </code>
                    </div>
                </li>
                
                <li><strong>Check status again:</strong>
                    <div class="code-example">
                        <code>$ git status</code>
                    </div>
                    <p>This shows that README.md has been modified but not yet staged.</p>
                </li>
                
                <li><strong>Stage and commit the README changes:</strong>
                    <div class="code-example">
                        <code>$ git add README.md</code>
                        <code>$ git commit -m "Update README with features and usage instructions"</code>
                    </div>
                </li>
                
                <li><strong>View commit history:</strong>
                    <div class="code-example">
                        <code>$ git log</code>
                    </div>
                    <p>You should now see three commits in your history.</p>
                </li>
                
                <li><strong>Try a more compact log format:</strong>
                    <div class="code-example">
                        <code>$ git log --oneline</code>
                    </div>
                    <p>This shows a condensed version of the commit history, with one commit per line.</p>
                </li>
                
                <li><strong>View detailed changes in a specific commit:</strong>
                    <div class="code-example">
                        <code>$ git show [commit_hash]</code>
                    </div>
                    <p>Replace [commit_hash] with the hash of your second commit (the one adding file persistence). This shows the exact changes made in that commit.</p>
                </li>
            </ol>
            
            <h4>Understanding What Happened</h4>
            <p>In this exercise, you've practiced:</p>
            <ul>
                <li>Making meaningful changes to your project</li>
                <li>Using git diff to view changes before staging</li>
                <li>Creating separate, focused commits for different types of changes</li>
                <li>Exploring commit history with different log formats</li>
                <li>Examining specific commits in detail</li>
            </ul>
            
            <p>These skills are essential for maintaining a clean and informative project history.</p>
        </section>

        <section class="exercise-three">
            <h3>Exercise 3: Undoing Changes and Exploring History</h3>
            
            <p>In this exercise, we'll practice various ways to undo changes and explore your repository's history. Understanding how to revert mistakes is crucial for confident use of Git.</p>
            
            <h4>Goals</h4>
            <ul>
                <li>Make and revert unstaged changes</li>
                <li>Undo staged changes</li>
                <li>Examine and revert to previous versions of files</li>
                <li>Explore your repository's history</li>
            </ul>
            
            <h4>Step-by-Step Instructions</h4>
            
            <ol>
                <li><strong>Make a change you'll discard:</strong>
                    <p>Open todo.py and add a deliberately "bad" function that we'll discard later:</p>
                    <div class="code-example">
                        <code>
def experimental_feature():
    """A function we'll discard later."""
    print("This is an experimental feature that isn't ready yet!")
    print("It might crash your system or delete all your todos!")
    return "Oops, something went wrong!"
                        </code>
                    </div>
                </li>
                
                <li><strong>Check status and view changes:</strong>
                    <div class="code-example">
                        <code>$ git status</code>
                        <code>$ git diff</code>
                    </div>
                </li>
                
                <li><strong>Discard the unstaged changes:</strong>
                    <div class="code-example">
                        <code>$ git restore todo.py</code>
                    </div>
                    <p>This reverts todo.py to the version in the last commit, discarding your experimental function.</p>
                </li>
                
                <li><strong>Verify the changes were discarded:</strong>
                    <div class="code-example">
                        <code>$ git status</code>
                        <code>$ git diff</code>
                    </div>
                    <p>You should see "nothing to commit, working tree clean" and no output from git diff.</p>
                </li>
                
                <li><strong>Make a change and stage it, then unstage it:</strong>
                    <p>Add a comment to todo.py:</p>
                    <div class="code-example">
                        <code>
# TODO: Add support for due dates and priorities
                        </code>
                    </div>
                    <p>Stage the change:</p>
                    <div class="code-example">
                        <code>$ git add todo.py</code>
                    </div>
                    <p>Now unstage it without discarding the change:</p>
                    <div class="code-example">
                        <code>$ git restore --staged todo.py</code>
                    </div>
                </li>
                
                <li><strong>Verify that the change is unstaged but still present:</strong>
                    <div class="code-example">
                        <code>$ git status</code>
                        <code>$ git diff</code>
                    </div>
                    <p>You should see the file listed as modified but not staged, and git diff should show your comment.</p>
                </li>
                
                <li><strong>Stage and commit this change:</strong>
                    <div class="code-example">
                        <code>$ git add todo.py</code>
                        <code>$ git commit -m "Add comment for future enhancements"</code>
                    </div>
                </li>
                
                <li><strong>Examine your project at a previous commit:</strong>
                    <div class="code-example">
                        <code>$ git log --oneline</code>
                    </div>
                    <p>Find the hash of your initial commit.</p>
                    <div class="code-example">
                        <code>$ git checkout [initial_commit_hash]</code>
                    </div>
                    <p>This puts you in a "detached HEAD" state, where you can look at your project as it was at the time of that commit.</p>
                </li>
                
                <li><strong>Notice the state of your files:</strong>
                    <p>Open todo.py in your editor and notice that it's reverted to its initial state without the file persistence functions.</p>
                </li>
                
                <li><strong>Return to the latest commit:</strong>
                    <div class="code-example">
                        <code>$ git checkout main</code>
                    </div>
                </li>
                
                <li><strong>View changes between specific commits:</strong>
                    <div class="code-example">
                        <code>$ git log --oneline</code>
                        <code>$ git diff [initial_commit_hash] [second_commit_hash]</code>
                    </div>
                    <p>This shows changes between your initial commit and the second commit.</p>
                </li>
                
                <li><strong>View changes to a specific file over time:</strong>
                    <div class="code-example">
                        <code>$ git log --follow --oneline todo.py</code>
                    </div>
                    <p>This shows only commits that affected todo.py.</p>
                </li>
                
                <li><strong>Recover a specific version of a file:</strong>
                    <p>Let's say we want to revert README.md to its original version without affecting other files.</p>
                    <div class="code-example">
                        <code>$ git checkout [initial_commit_hash] -- README.md</code>
                    </div>
                    <p>This extracts README.md from the initial commit and places it in your working directory.</p>
                </li>
                
                <li><strong>Stage and commit this restored version:</strong>
                    <div class="code-example">
                        <code>$ git add README.md</code>
                        <code>$ git commit -m "Revert README to original version"</code>
                    </div>
                </li>
            </ol>
            
            <h4>Understanding What Happened</h4>
            <p>In this exercise, you've practiced several important undoing operations:</p>
            <ul>
                <li><strong>git restore:</strong> Discards unstaged changes</li>
                <li><strong>git restore --staged:</strong> Unstages changes without discarding them</li>
                <li><strong>git checkout [commit]:</strong> Temporarily revisits a previous state of the repository</li>
                <li><strong>git checkout [commit] -- [file]:</strong> Extracts a specific file from a previous commit</li>
            </ul>
            
            <p>These operations give you fine-grained control over your repository and allow you to recover from various types of mistakes.</p>
        </section>

        <section class="exercise-four">
            <h3>Exercise 4: Working with Branches</h3>
            
            <p>In this exercise, we'll practice creating and managing branches in your local repository. Branches allow you to work on different features or experiments in isolation.</p>
            
            <h4>Goals</h4>
            <ul>
                <li>Create and switch between branches</li>
                <li>Make changes in different branches</li>
                <li>Merge branches together</li>
                <li>Resolve a simple merge conflict</li>
            </ul>
            
            <h4>Step-by-Step Instructions</h4>
            
            <ol>
                <li><strong>Check your current branch:</strong>
                    <div class="code-example">
                        <code>$ git branch</code>
                    </div>
                    <p>This shows all local branches with an asterisk next to the current one (should be main).</p>
                </li>
                
                <li><strong>Create and switch to a new branch:</strong>
                    <div class="code-example">
                        <code>$ git checkout -b feature/due-dates</code>
                    </div>
                    <p>This creates a new branch called "feature/due-dates" and switches to it.</p>
                </li>
                
                <li><strong>Make changes in this branch:</strong>
                    <p>Let's modify todo.py to add support for due dates:</p>
                    <div class="code-example">
                        <code>
# Add these imports at the top
from datetime import datetime, timedelta

# Modify the add_todo function
def add_todo(text, todos):
    """Add a new todo item."""
    if not text:
        print("Cannot add an empty todo. Try 'add [text]'")
        return
    
    # Check for due date in format: "text @tomorrow" or "text @YYYY-MM-DD"
    parts = text.split(" @")
    todo_text = parts[0]
    due_date = None
    
    if len(parts) > 1:
        date_text = parts[1].lower()
        try:
            if date_text == "today":
                due_date = datetime.now().strftime("%Y-%m-%d")
            elif date_text == "tomorrow":
                due_date = (datetime.now() + timedelta(days=1)).strftime("%Y-%m-%d")
            elif date_text == "nextweek":
                due_date = (datetime.now() + timedelta(days=7)).strftime("%Y-%m-%d")
            else:
                # Assume it's in YYYY-MM-DD format
                datetime.strptime(date_text, "%Y-%m-%d")  # Validate date format
                due_date = date_text
        except ValueError:
            print(f"Warning: Invalid date format '{date_text}'. Date will not be set.")
    
    todos.append({"text": todo_text, "completed": False, "due_date": due_date})
    print(f"Added: {todo_text}" + (f" (due: {due_date})" if due_date else ""))

# Modify the list_todos function
def list_todos(todos):
    """Display all todo items with their status."""
    if not todos:
        print("No todos yet! Add some using 'add [text]'")
        return
    
    print("\nTodo List:")
    for i, todo in enumerate(todos, 1):
        status = "✓" if todo["completed"] else " "
        due_info = f" (due: {todo['due_date']})" if todo.get("due_date") else ""
        print(f"{i}. [{status}] {todo['text']}{due_info}")

# Update the print_help function
def print_help():
    """Display available commands."""
    print("\nAvailable commands:")
    print("  list           - Show all todo items")
    print("  add [text]     - Add a new todo item")
    print("  add [text] @YYYY-MM-DD - Add todo with due date")
    print("  add [text] @today/@tomorrow/@nextweek - Add with relative due date")
    print("  complete [num] - Mark an item as completed")
    print("  save           - Save todos to file")
    print("  help           - Show this help message")
    print("  quit           - Exit the application (auto-saves)")
                        </code>
                    </div>
                </li>
                
                <li><strong>Stage and commit these changes:</strong>
                    <div class="code-example">
                        <code>$ git add todo.py</code>
                        <code>$ git commit -m "Add support for due dates in todos"</code>
                    </div>
                </li>
                
                <li><strong>Switch back to the main branch:</strong>
                    <div class="code-example">
                        <code>$ git checkout main</code>
                    </div>
                    <p>Notice that todo.py reverts to its previous state without due date support.</p>
                </li>
                
                <li><strong>Create another branch for a different feature:</strong>
                    <div class="code-example">
                        <code>$ git checkout -b feature/priority-levels</code>
                    </div>
                </li>
                
                <li><strong>Make changes for priority levels:</strong>
                    <p>Modify todo.py to add support for priorities:</p>
                    <div class="code-example">
                        <code>
# Modify the add_todo function
def add_todo(text, todos):
    """Add a new todo item."""
    if not text:
        print("Cannot add an empty todo. Try 'add [text]'")
        return
    
    # Check for priority in format: "text !high" or "text !low"
    parts = text.split(" !")
    todo_text = parts[0]
    priority = "normal"  # Default priority
    
    if len(parts) > 1:
        priority_text = parts[1].lower()
        if priority_text in ["high", "medium", "low"]:
            priority = priority_text
        else:
            print(f"Warning: Invalid priority '{priority_text}'. Using 'normal'.")
    
    todos.append({"text": todo_text, "completed": False, "priority": priority})
    print(f"Added: {todo_text} (priority: {priority})")

# Modify the list_todos function
def list_todos(todos):
    """Display all todo items with their status."""
    if not todos:
        print("No todos yet! Add some using 'add [text]'")
        return
    
    print("\nTodo List:")
    for i, todo in enumerate(todos, 1):
        status = "✓" if todo["completed"] else " "
        priority = todo.get("priority", "normal")
        priority_marker = ""
        if priority == "high":
            priority_marker = " [!]"
        elif priority == "low":
            priority_marker = " [.]"
        print(f"{i}. [{status}] {todo['text']}{priority_marker}")

# Update the print_help function
def print_help():
    """Display available commands."""
    print("\nAvailable commands:")
    print("  list           - Show all todo items")
    print("  add [text]     - Add a new todo item")
    print("  add [text] !high/!medium/!low - Add with priority")
    print("  complete [num] - Mark an item as completed")
    print("  save           - Save todos to file")
    print("  help           - Show this help message")
    print("  quit           - Exit the application (auto-saves)")
                        </code>
                    </div>
                </li>
                
                <li><strong>Stage and commit these changes:</strong>
                    <div class="code-example">
                        <code>$ git add todo.py</code>
                        <code>$ git commit -m "Add support for priority levels in todos"</code>
                    </div>
                </li>
                
                <li><strong>Switch back to main:</strong>
                    <div class="code-example">
                        <code>$ git checkout main</code>
                    </div>
                </li>
                
                <li><strong>Merge the due dates feature:</strong>
                    <div class="code-example">
                        <code>$ git merge feature/due-dates</code>
                    </div>
                    <p>This incorporates the changes from the due-dates branch into main.</p>
                </li>
                
                <li><strong>Now merge the priority levels feature:</strong>
                    <div class="code-example">
                        <code>$ git merge feature/priority-levels</code>
                    </div>
                    <p>This will likely create a merge conflict since both branches modified the same parts of todo.py.</p>
                </li>
                
                <li><strong>Resolve the merge conflict:</strong>
                    <p>Open todo.py in your editor. You'll see sections marked with conflict markers:</p>
                    <div class="code-example">
                        <code>
<<<<<<< HEAD
# Due dates code from feature/due-dates branch
=======
# Priority levels code from feature/priority-levels branch
>>>>>>> feature/priority-levels
                        </code>
                    </div>
                    <p>Edit the file to integrate both features. For example:</p>
                    <div class="code-example">
                        <code>
# Add these imports at the top
from datetime import datetime, timedelta

# Combined add_todo function
def add_todo(text, todos):
    """Add a new todo item."""
    if not text:
        print("Cannot add an empty todo. Try 'add [text]'")
        return
    
    # Extract priority if present
    parts = text.split(" !")
    todo_text = parts[0]
    priority = "normal"  # Default priority
    
    if len(parts) > 1:
        priority_text = parts[1].lower()
        if priority_text in ["high", "medium", "low"]:
            priority = priority_text
        else:
            print(f"Warning: Invalid priority '{priority_text}'. Using 'normal'.")
    
    # Extract due date if present
    date_parts = todo_text.split(" @")
    todo_text = date_parts[0]
    due_date = None
    
    if len(date_parts) > 1:
        date_text = date_parts[1].lower()
        try:
            if date_text == "today":
                due_date = datetime.now().strftime("%Y-%m-%d")
            elif date_text == "tomorrow":
                due_date = (datetime.now() + timedelta(days=1)).strftime("%Y-%m-%d")
            elif date_text == "nextweek":
                due_date = (datetime.now() + timedelta(days=7)).strftime("%Y-%m-%d")
            else:
                # Assume it's in YYYY-MM-DD format
                datetime.strptime(date_text, "%Y-%m-%d")  # Validate date format
                due_date = date_text
        except ValueError:
            print(f"Warning: Invalid date format '{date_text}'. Date will not be set.")
    
    todos.append({
        "text": todo_text, 
        "completed": False, 
        "priority": priority,
        "due_date": due_date
    })
    
    status_msg = f"Added: {todo_text}"
    if priority != "normal":
        status_msg += f" (priority: {priority})"
    if due_date:
        status_msg += f" (due: {due_date})"
    print(status_msg)

# Combined list_todos function
def list_todos(todos):
    """Display all todo items with their status."""
    if not todos:
        print("No todos yet! Add some using 'add [text]'")
        return
    
    print("\nTodo List:")
    for i, todo in enumerate(todos, 1):
        status = "✓" if todo["completed"] else " "
        priority = todo.get("priority", "normal")
        priority_marker = ""
        if priority == "high":
            priority_marker = " [!]"
        elif priority == "low":
            priority_marker = " [.]"
        
        due_info = f" (due: {todo['due_date']})" if todo.get("due_date") else ""
        print(f"{i}. [{status}] {todo['text']}{priority_marker}{due_info}")

# Updated print_help function
def print_help():
    """Display available commands."""
    print("\nAvailable commands:")
    print("  list           - Show all todo items")
    print("  add [text]     - Add a new todo item")
    print("  add [text] @YYYY-MM-DD - Add todo with due date")
    print("  add [text] @today/@tomorrow/@nextweek - Add with relative due date")
    print("  add [text] !high/!medium/!low - Add with priority")
    print("  complete [num] - Mark an item as completed")
    print("  save           - Save todos to file")
    print("  help           - Show this help message")
    print("  quit           - Exit the application (auto-saves)")
                        </code>
                    </div>
                </li>
                
                <li><strong>Mark the conflict as resolved:</strong>
                    <div class="code-example">
                        <code>$ git add todo.py</code>
                        <code>$ git commit -m "Merge priority-levels feature and integrate with due-dates"</code>
                    </div>
                </li>
                
                <li><strong>View the branch history:</strong>
                    <div class="code-example">
                        <code>$ git log --graph --oneline --all</code>
                    </div>
                    <p>This shows a graphical representation of your branch history, including the merge.</p>
                </li>
                
                <li><strong>Clean up by deleting the merged branches:</strong>
                    <div class="code-example">
                        <code>$ git branch -d feature/due-dates</code>
                        <code>$ git branch -d feature/priority-levels</code>
                    </div>
                </li>
            </ol>
            
            <h4>Understanding What Happened</h4>
            <p>In this exercise, you've practiced:</p>
            <ul>
                <li>Creating and switching between branches</li>
                <li>Developing different features in isolation</li>
                <li>Merging branches back into the main line of development</li>
                <li>Resolving merge conflicts by integrating changes from different branches</li>
                <li>Viewing branch history and cleaning up merged branches</li>
            </ul>
            
            <p>Branching is one of Git's most powerful features, allowing parallel development and experimentation without affecting your main codebase.</p>
        </section>

        <section class="exercise-five">
            <h3>Exercise 5: Working with Git Aliases and Configuration</h3>
            
            <p>In this exercise, we'll customize Git to make it more efficient for your workflow by setting up aliases and configuration options.</p>
            
            <h4>Goals</h4>
            <ul>
                <li>Create useful Git aliases</li>
                <li>Configure Git settings for better usability</li>
                <li>Learn about Git's customization options</li>
            </ul>
            
            <h4>Step-by-Step Instructions</h4>
            
            <ol>
                <li><strong>View your current Git configuration:</strong>
                    <div class="code-example">
                        <code>$ git config --list</code>
                    </div>
                    <p>This shows all your Git configuration settings.</p>
                </li>
                
                <li><strong>Create aliases for common commands:</strong>
                    <div class="code-example">
                        <code>$ git config --global alias.st status</code>
                        <code>$ git config --global alias.co checkout</code>
                        <code>$ git config --global alias.br branch</code>
                        <code>$ git config --global alias.ci commit</code>
                        <code>$ git config --global alias.unstage "restore --staged"</code>
                        <code>$ git config --global alias.last "log -1 HEAD"</code>
                        <code>$ git config --global alias.lg "log --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit"</code>
                    </div>
                </li>
                
                <li><strong>Try out your new aliases:</strong>
                    <div class="code-example">
                        <code>$ git st</code>
                        <p>Equivalent to git status</p>
                    </div>
                    <div class="code-example">
                        <code>$ git lg</code>
                        <p>Shows a colorized, compact log with branch graph</p>
                    </div>
                </li>
                
                <li><strong>Configure useful Git settings:</strong>
                    <div class="code-example">
                        <code>$ git config --global core.editor "code --wait"</code>
                        <p>Sets Visual Studio Code as your default editor for commit messages</p>
                    </div>
                    <div class="code-example">
                        <code>$ git config --global pull.rebase true</code>
                        <p>Configures git pull to use rebase instead of merge</p>
                    </div>
                    <div class="code-example">
                        <code>$ git config --global push.default simple</code>
                        <p>Push only the current branch to the upstream branch</p>
                    </div>
                    <div class="code-example">
                        <code>$ git config --global color.ui auto</code>
                        <p>Enables automatic color in Git output</p>
                    </div>
                </li>
                
                <li><strong>Create a .gitignore file for Python projects:</strong>
                    <p>Create a global .gitignore file for all your Python projects:</p>
                    <div class="code-example">
                        <code>$ git config --global core.excludesfile ~/.gitignore_global</code>
                    </div>
                    <p>Now edit this file (or create it if it doesn't exist):</p>
                    <div class="code-example">
                        <code>$ touch ~/.gitignore_global</code>
                        <code>$ code ~/.gitignore_global</code>
                    </div>
                    <p>Add common Python-specific entries:</p>
                    <div class="code-example">
                        <code>
# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
*.egg-info/
.installed.cfg
*.egg

# Virtual Environments
env/
venv/
ENV/
env.bak/
venv.bak/

# IDEs and editors
.idea/
.vscode/
*.swp
*.swo
.DS_Store
                        </code>
                    </div>
                </li>
                
                <li><strong>Create a Git hook for commit message validation:</strong>
                    <p>In your python_todo_app repository, create a commit-msg hook:</p>
                    <div class="code-example">
                        <code>$ mkdir -p .git/hooks</code>
                        <code>$ touch .git/hooks/commit-msg</code>
                        <code>$ chmod +x .git/hooks/commit-msg</code>
                    </div>
                    <p>Edit the commit-msg file:</p>
                    <div class="code-example">
                        <code>$ code .git/hooks/commit-msg</code>
                    </div>
                    <p>Add this script to enforce conventional commit message format:</p>
                    <div class="code-example">
                        <code>
#!/bin/sh

commit_msg_file=$1
commit_msg=$(cat "$commit_msg_file")

# Check if the message follows the pattern: type: description
if ! echo "$commit_msg" | grep -qE '^(feat|fix|docs|style|refactor|test|chore)(\(.+\))?: .+$'; then
    echo "ERROR: Commit message does not follow the conventional format."
    echo "Please use one of the following types: feat, fix, docs, style, refactor, test, chore"
    echo "Example: feat: add user authentication"
    exit 1
fi

# Check if the message is too short
if [ $ { #commit_msg} -lt 10 ]; then
    echo "ERROR: Commit message is too short (less than 10 characters)"
    exit 1
fi

# Check if the first letter of the description is capitalized
if ! echo "$commit_msg" | grep -qE '^[^:]+: [A-Z]'; then
    echo "ERROR: Description should start with a capital letter"
    exit 1
fi

exit 0
                        </code>
                    </div>
                </li>
                
                <li><strong>Try out the commit hook:</strong>
                    <p>Make a small change to README.md and try committing with different message formats:</p>
                    <div class="code-example">
                        <code>$ echo "# Additional note" >> README.md</code>
                        <code>$ git add README.md</code>
                        <code>$ git commit -m "updated readme"</code>
                        <p>This should fail because it doesn't follow the conventional format</p>
                    </div>
                    <div class="code-example">
                        <code>$ git commit -m "docs: Update README with additional note"</code>
                        <p>This should succeed</p>
                    </div>
                </li>
            </ol>
            
            <h4>Understanding What Happened</h4>
            <p>In this exercise, you've learned how to:</p>
            <ul>
                <li>Create aliases to make Git commands shorter and more convenient</li>
                <li>Configure Git settings to match your preferences</li>
                <li>Set up a global .gitignore file for all your projects</li>
                <li>Create Git hooks to enforce commit message conventions</li>
            </ul>
            
            <p>These customizations make Git more efficient and help maintain consistency across your projects.</p>
        </section>

        <section class="best-practices">
            <h3>Best Practices for Working with Local Repositories</h3>
            
            <h4>Repository Organization</h4>
            <ul>
                <li><strong>Keep repositories focused:</strong> Each repository should represent a single project or logical unit</li>
                <li><strong>Include documentation:</strong> Always add a README.md file with setup instructions and project information</li>
                <li><strong>Use .gitignore:</strong> Exclude build artifacts, dependencies, and sensitive files from version control</li>
                <li><strong>Structure your project:</strong> Organize code into logical directories based on functionality</li>
            </ul>
            
            <h4>Commit Practices</h4>
            <ul>
                <li><strong>Commit often:</strong> Make small, focused commits that represent a single logical change</li>
                <li><strong>Write meaningful messages:</strong> Use clear, descriptive commit messages explaining what and why</li>
                <li><strong>Separate concerns:</strong> Don't mix unrelated changes in a single commit</li>
                <li><strong>Review before committing:</strong> Always check git status and git diff before committing</li>
            </ul>
            
            <h4>Branching Strategy</h4>
            <ul>
                <li><strong>Branch for features:</strong> Create separate branches for new features and bug fixes</li>
                <li><strong>Keep main/master stable:</strong> The main branch should always be in a working state</li>
                <li><strong>Delete merged branches:</strong> Clean up branches after they've been merged</li>
                <li><strong>Use descriptive branch names:</strong> Name branches according to what they accomplish (feature/login, bugfix/email-validation)</li>
            </ul>
            
            <h4>History Management</h4>
            <ul>
                <li><strong>Don't rewrite published history:</strong> Avoid force-pushing or rewriting history that others may have based work on</li>
                <li><strong>Use interactive rebase locally:</strong> Clean up your branch before sharing it with others</li>
                <li><strong>Prefer merge over rebase for shared branches:</strong> Preserve the history of collaborative work</li>
                <li><strong>Keep a linear history when possible:</strong> This makes it easier to understand the development timeline</li>
            </ul>
            
            <h4>General Tips</h4>
            <ul>
                <li><strong>Back up your repositories:</strong> Regularly push to a remote repository for safekeeping</li>
                <li><strong>Keep your Git updated:</strong> Use the latest version to benefit from improvements and security fixes</li>
                <li><strong>Learn Git commands incrementally:</strong> Master the basics before moving to advanced features</li>
                <li><strong>Prefer Git CLI over GUIs:</strong> Understanding the command line gives you more control and transferable skills</li>
            </ul>
        </section>

        <section class="common-pitfalls">
            <h3>Common Git Pitfalls and How to Avoid Them</h3>
            
            <h4>Committing Sensitive Information</h4>
            <p><strong>Problem:</strong> Accidentally committing passwords, API keys, or other sensitive data.</p>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>Use environment variables or dedicated configuration files that are excluded via .gitignore</li>
                <li>If you accidentally commit sensitive data, do not push it; instead, use <code>git filter-branch</code> or BFG Repo-Cleaner to remove it</li>
                <li>Consider using pre-commit hooks to prevent committing sensitive patterns</li>
            </ul>
            
            <h4>Committing Large Files</h4>
            <p><strong>Problem:</strong> Adding large binary files bloats your repository and makes operations slow.</p>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>Use .gitignore to exclude build artifacts, compiled binaries, and large datasets</li>
                <li>For essential large files, consider Git LFS (Large File Storage)</li>
                <li>Store data files externally and document how to obtain them</li>
            </ul>
            
            <h4>Confusing the Working Directory, Staging Area, and Repository</h4>
            <p><strong>Problem:</strong> Not understanding where your changes reside leads to confusion about what will be committed.</p>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>Always check <code>git status</code> before and after operations</li>
                <li>Remember that changes must be explicitly staged before they can be committed</li>
                <li>Visualize the three areas: working directory (your files), staging area (what will be committed), repository (what has been committed)</li>
            </ul>
            
            <h4>Losing Work by Checkout or Reset</h4>
            <p><strong>Problem:</strong> Using <code>git checkout</code> or <code>git reset --hard</code> without understanding their implications.</p>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>Before using any command that could overwrite changes, ensure your work is committed or stashed</li>
                <li>Use <code>git checkout -- filename</code> to discard changes to a specific file, not <code>git checkout</code> without arguments</li>
                <li>Understand the difference between <code>git reset --soft</code>, <code>git reset --mixed</code>, and <code>git reset --hard</code></li>
            </ul>
            
            <h4>Creating Messy Commit History</h4>
            <p><strong>Problem:</strong> Making too many small, meaningless commits or combining unrelated changes into a single commit.</p>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>Aim for commits that represent a single logical change</li>
                <li>Use <code>git add -p</code> to stage specific parts of files</li>
                <li>Write descriptive commit messages explaining the purpose of changes</li>
                <li>Use branches to separate different features or bug fixes</li>
            </ul>
            
            <h4>Merge Conflicts</h4>
            <p><strong>Problem:</strong> Frightening merge conflicts that seem impossible to resolve.</p>
            <p><strong>Solution:</strong></p>
            <ul>
                <li>Pull/merge from the target branch frequently to reduce the size of conflicts</li>
                <li>Understand the conflict markers (<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>, <code>=======</code>, <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>) and what they represent</li>
                <li>Use a visual diff tool with <code>git mergetool</code> for complex conflicts</li>
                <li>Don't panic – conflicts are normal and resolvable with care</li>
            </ul>
        </section>

        <section class="beyond-basics">
            <h3>Beyond the Basics: Next Steps with Git</h3>
            
            <p>As you become comfortable with local Git repositories, consider exploring these more advanced topics:</p>
            
            <h4>Remote Repositories and Collaboration</h4>
            <ul>
                <li><strong>Working with remotes:</strong> <code>git remote</code>, <code>git push</code>, <code>git pull</code>, <code>git fetch</code></li>
                <li><strong>Pull requests/merge requests:</strong> Contributing to projects on GitHub, GitLab, or Bitbucket</li>
                <li><strong>Collaboration workflows:</strong> Centralized, feature branch, fork and pull, GitFlow</li>
            </ul>
            
            <h4>Advanced Git Operations</h4>
            <ul>
                <li><strong>Interactive rebase:</strong> Cleaning up commit history before sharing</li>
                <li><strong>Cherry-picking:</strong> Applying specific commits from one branch to another</li>
                <li><strong>Rebasing:</strong> Alternative to merging for integrating changes</li>
                <li><strong>Reflog:</strong> Recovering from Git mistakes by accessing reference logs</li>
            </ul>
            
            <h4>Git Internals</h4>
            <ul>
                <li><strong>Git objects:</strong> Understanding blobs, trees, commits, and refs</li>
                <li><strong>How Git stores data:</strong> Content-addressable storage and SHA-1 hashing</li>
                <li><strong>Under the hood:</strong> Exploring the .git directory structure</li>
            </ul>
            
            <h4>Git Tools and Integrations</h4>
            <ul>
                <li><strong>CI/CD integration:</strong> Using Git with continuous integration and deployment systems</li>
                <li><strong>Git hooks:</strong> Automating tasks before/after Git operations</li>
                <li><strong>Git GUI clients:</strong> Visual tools for working with Git repositories</li>
                <li><strong>IDE integrations:</strong> Using Git within your development environment</li>
            </ul>
        </section>

        <section class="conclusion">
            <h3>Key Takeaways</h3>
            
            <ul>
                <li><strong>Git is a journey:</strong> Start with the basics and gradually build your skills</li>
                <li><strong>Practice is essential:</strong> Regular use of Git commands will make them second nature</li>
                <li><strong>Mistakes happen:</strong> Git is designed to track changes, not judge them, and provides tools to recover from most errors</li>
                <li><strong>Focus on workflow:</strong> Establish good habits for commits, branching, and repository organization</li>
                <li><strong>Every project is different:</strong> Adapt Git practices to fit the needs of your specific project</li>
            </ul>
            
            <p>By mastering local repositories, you've built a solid foundation for version control. As you continue your development journey, you'll find that Git becomes an invaluable tool for tracking your progress, exploring alternatives, and collaborating with others.</p>
        </section>

        <section class="assignment">
            <h3>Assignment: Todo Application with Version Control</h3>
            
            <p>Extend the Todo application we've been working on by adding new features while practicing good Git workflow habits.</p>
            
            <h4>Requirements</h4>
            <ol>
                <li>Continue working with the python_todo_app repository we created in the exercises</li>
                <li>Create a new branch for each of the following features:
                    <ul>
                        <li><strong>feature/categories:</strong> Add the ability to categorize todos (work, personal, shopping, etc.)</li>
                        <li><strong>feature/search:</strong> Add functionality to search todos by text</li>
                        <li><strong>feature/recurring:</strong> Add support for recurring todos (daily, weekly, monthly)</li>
                    </ul>
                </li>
                <li>Implement each feature on its respective branch, making multiple meaningful commits for each</li>
                <li>Merge each feature branch back into main when complete</li>
                <li>Use appropriate commit messages following conventional commit format</li>
                <li>Resolve any merge conflicts that arise</li>
                <li>Document your Git workflow as you go, taking screenshots of important steps</li>
            </ol>
            
            <h4>Submission</h4>
            <p>Submit the following:</p>
            <ol>
                <li>A link to your GitHub repository (if you've pushed it) or a zip file of your local repository</li>
                <li>A document with screenshots showing your Git workflow, including:
                    <ul>
                        <li>Branch creation and switching</li>
                        <li>Commit history on each branch</li>
                        <li>Merge operations</li>
                        <li>Conflict resolution (if applicable)</li>
                    </ul>
                </li>
                <li>A brief reflection on what you learned about Git workflow and any challenges you encountered</li>
            </ol>
            
            <h4>Bonus Challenges</h4>
            <ul>
                <li>Create a visualization of your commit history using <code>git log --graph --oneline --all</code></li>
                <li>Create a Git alias for a command you found yourself using frequently</li>
                <li>Implement a pre-commit hook that checks Python syntax before allowing commits</li>
            </ul>
        </section>

        <section class="resources">
            <h3>Additional Resources</h3>
            
            <h4>Documentation and Books</h4>
            <ul>
                <li><a href="https://git-scm.com/doc" target="_blank">Official Git Documentation</a></li>
                <li><a href="https://git-scm.com/book/en/v2" target="_blank">Pro Git Book</a> - Free online book by Scott Chacon and Ben Straub</li>
                <li><a href="https://learngitbranching.js.org/" target="_blank">Learn Git Branching</a> - Interactive visualization tool</li>
            </ul>
            
            <h4>Cheat Sheets and Quick References</h4>
            <ul>
                <li><a href="https://education.github.com/git-cheat-sheet-education.pdf" target="_blank">GitHub Git Cheat Sheet</a></li>
                <li><a href="https://ndpsoftware.com/git-cheatsheet.html" target="_blank">Visual Git Cheat Sheet</a></li>
                <li><a href="https://ohshitgit.com/" target="_blank">Oh Sh*t, Git!?!</a> - Recovering from common Git mistakes</li>
            </ul>
            
            <h4>Practice and Tutorials</h4>
            <ul>
                <li><a href="https://try.github.io/" target="_blank">Resources to learn Git</a> - Curated by GitHub</li>
                <li><a href="https://gitimmersion.com/" target="_blank">Git Immersion</a> - Guided tour through Git fundamentals</li>
                <li><a href="https://www.atlassian.com/git/tutorials" target="_blank">Atlassian Git Tutorials</a></li>
            </ul>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Python Full Stack Developer Course. All rights reserved.</p>
    </footer>
</body>
</html>
